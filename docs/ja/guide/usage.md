# 使い方ガイド

## 基本的な使い方

### Asepriteファイルのインポート

1. Blenderを開く
2. `ファイル > インポート > Aseprite (.aseprite)`を選択
3. `.aseprite`ファイルを選択
4. サイドバーでインポートオプションを設定（オプション）：

![インポートダイアログ](/blender-file-view-ja.png)

   - **フレーム番号**: 複数フレームファイルからインポートするフレーム（デフォルト: 0）
   - **Solidifyモディファイアを追加**: Solidifyモディファイアを自動的に追加（デフォルト: 有効）
   - **Solidifyの幅**: 3Dの厚みをメートル単位で指定（デフォルト: 0.1m）
   - **テクスチャプレフィックス**: エクスポートされるテクスチャファイルのプレフィックス（デフォルト: `tex_`）

5. `Import Aseprite as Mesh`をクリック
6. ワールド原点にテクスチャ付きメッシュが作成されます

![サンプルインポート結果](/sample.png)
*例: Asepriteファイルを3DメッシュとしてインポートしSolidifyモディファイアを適用した状態（マテリアルプレビューモード）*

### 作成されるもの

Asepriteファイルをインポートすると、アドオンは自動的に以下を実行します：

- **ピクセルを3Dメッシュに変換**: 透明でない各ピクセルがクアッド面になります
- **UVマッピングを適用**: 各ピクセルの中心にピクセルパーフェクトなUV座標を設定
- **マテリアルを作成**: テクスチャを"Closest"補間に設定したPrincipled BSDF
- **Solidifyモディファイアを追加**（有効な場合）: 平面メッシュに3Dの厚みを与えます
- **アルファブレンディングを設定**: マテリアルは透明度に"Clip"ブレンドモードを使用

## インポート時の仕様

### メッシュ構造

- 表示される各ピクセルが1×1ユニットのクアッドになります
- 透明ピクセルは除外されます
- 重複頂点は自動的にマージされます
- 原点は重心に設定されます

### Solidifyモディファイア

インポートダイアログで有効にした場合、Solidifyモディファイアは以下の設定になります：
- **幅**: デフォルト0.1ユニット（インポートダイアログで設定可能、インポート後もモディファイアパネルで調整可能）
- **オフセット**: 1.0（外側に押し出し）
- **リム**: 有効（側面を生成）

これらの設定はインポート後にモディファイアパネルで変更できます。

### テクスチャ

テクスチャはインポートダイアログで指定したプレフィックス（デフォルト: `tex_`）でBlenderの一時ディレクトリにPNGとして一時的にエクスポートされます。

## ヒントとコツ

### スケーリング

インポートされたメッシュは1ピクセル = 1Blenderユニットです。スケールするには：
1. オブジェクトを選択
2. `S`キーでスケール
3. 希望のスケール値を入力

### メッシュの編集

インポート後、以下が可能です：
- モディファイアパネルでSolidifyの厚さを変更
- 必要に応じてUVを編集
- 追加のモディファイアを追加
- 編集モードでメッシュを編集

### テクスチャ補間

テクスチャはピクセルパーフェクトな見た目を維持するため、デフォルトで"Closest"補間を使用します。変更するには：
1. シェーダーエディターを開く
2. Image Textureノードを選択
3. Interpolation設定を変更

### 再インポート

Asepriteファイルを更新した場合：
1. ファイルを再インポート
2. 新しいオブジェクトが作成されます
3. 必要に応じて古いオブジェクトを削除

## よくあるワークフロー

### ゲームアセット作成

1. Asepriteスプライトをインポート
2. 望みの深さになるようSolidifyの厚さを調整
3. パターン用にArrayモディファイアを追加
4. ゲームエンジン用にFBX/GLTFとしてエクスポート

### アニメーション設定

1. 複数のフレームを別々のファイルとしてインポート
2. ストップモーションスタイルアニメーションのキーフレームとして使用
3. またはAsepriteのレイヤーエクスポートを使用し、それぞれを別オブジェクトとしてインポート

### レンダリング

1. ピクセルアート用のライティングを設定（ソフトシャドウは避ける）
2. EeveeまたはCyclesを使用
3. シャープなピクセルエッジのためアンチエイリアスを無効化
4. ネイティブ解像度の倍数でレンダリング（2x、3x、4x）
